{
  "接口信息": {
    "接口路径": "GET /api/settings",
    "功能说明": "获取应用程序的完整设置配置，包括搜索、索引、UI等各个模块的参数",
    "请求方式": "GET",
    "Content-Type": "application/json",
    "接口版本": "v1.0.0"
  },
  "请求参数": {
    "正常场景": {
      "说明": "无需参数，返回所有设置"
    },
    "按模块过滤场景": {
      "module": "search"
    }
  },
  "响应数据": {
    "完整设置成功响应": {
      "success": true,
      "data": {
        "app_info": {
          "app_name": "小遥搜索",
          "version": "1.0.0",
          "build_number": "20240120001",
          "installation_date": "2024-01-15T08:00:00Z",
          "last_update": "2024-01-20T10:30:00Z",
          "developer_mode": false
        },
        "search": {
          "default_limit": 20,
          "default_threshold": 0.7,
          "max_file_size": 52428800,
          "max_query_length": 500,
          "enable_semantic_search": true,
          "enable_fulltext_search": true,
          "default_search_type": "hybrid",
          "result_highlight": true,
          "preview_max_length": 200,
          "cache_enabled": true,
          "cache_ttl": 3600,
          "supported_file_types": ["pdf", "txt", "md", "docx", "xlsx", "pptx", "mp3", "wav", "m4a", "flac", "mp4", "avi", "jpg", "jpeg", "png", "webp"],
          "excluded_extensions": [".tmp", ".log", ".cache", ".bak"],
          "search_timeout": 30
        },
        "indexing": {
          "max_concurrent_jobs": 3,
          "supported_formats": ["pdf", "txt", "md", "docx", "xlsx", "mp3", "mp4", "wav"],
          "auto_rebuild": false,
          "rebuild_interval": 7,
          "max_file_size": 1073741824,
          "extract_content": true,
          "extract_metadata": true,
          "index_media_content": false,
          "ocr_enabled": true,
          "ocr_languages": ["zh-CN", "en-US"],
          "content_preview": true,
          "compression_enabled": true,
          "backup_enabled": true,
          "cleanup_old_indexes": true,
          "index_retention_days": 30
        },
        "ui": {
          "theme": "light",
          "language": "zh-CN",
          "font_size": 14,
          "font_family": "Microsoft YaHei",
          "window_size": {
            "width": 1200,
            "height": 800,
            "maximized": false
          },
          "show_file_size": true,
          "show_file_date": true,
          "show_relevance_score": true,
          "result_view_mode": "list",
          "items_per_page": 20,
          "enable_animations": true,
          "enable_sound_effects": false,
          "auto_save_search_history": true,
          "max_history_items": 100,
          "enable_suggestions": true,
          "show_advanced_options": false,
          "toolbar_position": "top",
          "sidebar_width": 250
        },
        "ai_models": {
          "embedding_model": {
            "model_name": "bge-m3",
            "provider": "local",
            "auto_load": true,
            "device": "cpu"
          },
          "speech_model": {
            "model_name": "faster-whisper",
            "provider": "local",
            "auto_load": false,
            "device": "cpu"
          },
          "vision_model": {
            "model_name": "cn-clip",
            "provider": "local",
            "auto_load": false,
            "device": "cpu"
          },
          "llm_model": {
            "model_name": "gpt-3.5-turbo",
            "provider": "cloud",
            "auto_load": false,
            "enable_cloud_fallback": true
          },
          "cache_models": true,
          "cache_directory": "./models_cache",
          "auto_update_models": false
        },
        "privacy": {
          "anonymous_usage_stats": true,
          "error_reports": true,
          "crash_reports": true,
          "search_analytics": false,
          "data_collection": "minimal",
          "privacy_mode": false,
          "local_processing_only": true,
          "retention_policy": {
            "search_history": 90,
            "error_logs": 30,
            "temp_files": 7
          }
        },
        "network": {
          "proxy_enabled": false,
          "proxy_host": "",
          "proxy_port": 8080,
          "proxy_username": "",
          "proxy_password": "",
          "timeout": 30,
          "retry_attempts": 3,
          "retry_delay": 1000,
          "chunk_size": 8192,
          "max_concurrent_downloads": 3,
          "verify_ssl": true,
          "user_agent": "XiaoyaoSearch/1.0.0"
        },
        "performance": {
          "max_memory_usage": 2048,
          "max_cpu_usage": 80,
          "thread_pool_size": 4,
          "enable_gpu_acceleration": false,
          "gpu_device": "auto",
          "cache_size": 512,
          "preload_models": false,
          "background_processing": true,
          "priority": "normal"
        },
        "advanced": {
          "debug_mode": false,
          "log_level": "info",
          "log_file_path": "./logs/app.log",
          "max_log_size": 10485760,
          "log_rotation_count": 5,
          "enable_profiling": false,
          "experimental_features": false,
          "developer_options": {
            "enable_debug_console": false,
            "show_performance_metrics": false,
            "enable_api_debug": false
          }
        }
      }
    },
    "按模块过滤响应（搜索设置）": {
      "success": true,
      "data": {
        "search": {
          "default_limit": 20,
          "default_threshold": 0.7,
          "max_file_size": 52428800,
          "max_query_length": 500,
          "enable_semantic_search": true,
          "enable_fulltext_search": true,
          "default_search_type": "hybrid",
          "result_highlight": true,
          "preview_max_length": 200,
          "cache_enabled": true,
          "cache_ttl": 3600
        }
      }
    },
    "默认设置响应": {
      "success": true,
      "data": {
        "app_info": {
          "app_name": "小遥搜索",
          "version": "1.0.0"
        },
        "search": {
          "default_limit": 20,
          "default_threshold": 0.7,
          "max_file_size": 52428800
        },
        "indexing": {
          "max_concurrent_jobs": 3,
          "supported_formats": ["pdf", "txt", "md", "docx", "xlsx", "mp3", "mp4", "wav"],
          "auto_rebuild": false
        },
        "ui": {
          "theme": "light",
          "language": "zh-CN"
        }
      }
    },
    "设置文件损坏响应": {
      "success": true,
      "data": {
        "app_info": {
          "app_name": "小遥搜索",
          "version": "1.0.0"
        },
        "search": {
          "default_limit": 20,
          "default_threshold": 0.7,
          "max_file_size": 52428800
        },
        "warning": "设置文件损坏，已恢复默认设置",
        "backup_available": true,
        "last_backup_time": "2024-01-19T20:00:00Z"
      }
    },
    "权限不足错误响应": {
      "success": false,
      "error": {
        "code": "PERMISSION_DENIED",
        "message": "没有读取设置的权限",
        "details": "请检查应用程序是否有访问配置文件的权限"
      }
    },
    "设置文件不存在响应": {
      "success": true,
      "data": {
        "app_info": {
          "app_name": "小遥搜索",
          "version": "1.0.0"
        },
        "search": {
          "default_limit": 20,
          "default_threshold": 0.7,
          "max_file_size": 52428800
        },
        "indexing": {
          "max_concurrent_jobs": 3,
          "supported_formats": ["pdf", "txt", "md", "docx", "xlsx", "mp3", "mp4", "wav"],
          "auto_rebuild": false
        },
        "ui": {
          "theme": "light",
          "language": "zh-CN"
        },
        "message": "首次运行，使用默认设置",
        "setup_required": true
      }
    }
  },
  "设置分类说明": {
    "app_info": "应用程序基本信息",
    "search": "搜索相关设置参数",
    "indexing": "文件索引配置选项",
    "ui": "用户界面和交互设置",
    "ai_models": "AI模型配置选项",
    "privacy": "隐私和数据收集设置",
    "network": "网络连接和代理设置",
    "performance": "性能和资源管理设置",
    "advanced": "高级和调试选项"
  },
  "使用说明": {
    "集成方式": "提供设置界面的数据源，支持模块化设置管理",
    "测试建议": [
      "测试完整设置和模块过滤的响应",
      "测试默认设置的加载",
      "测试设置文件损坏时的恢复机制",
      "测试权限错误的处理"
    ],
    "设置管理": [
      "支持设置项的分组展示",
      "提供设置搜索和过滤功能",
      "支持设置的导入和导出",
      "提供设置重置和恢复功能"
    ],
    "实时更新": {
      "推荐": "设置变更后应实时应用到系统",
      "验证": "重要设置变更需要验证有效性",
      "通知": "设置变更应通知用户确认"
    },
    "数据验证": {
      "类型检查": "验证设置值的数据类型",
      "范围验证": "检查数值是否在有效范围内",
      "格式验证": "验证字符串格式和路径有效性",
      "依赖检查": "验证设置项之间的依赖关系"
    },
    "备份和恢复": [
      "定期自动备份设置",
      "支持手动创建设置快照",
      "提供设置版本管理",
      "支持从备份文件恢复设置"
    ]
  }
}