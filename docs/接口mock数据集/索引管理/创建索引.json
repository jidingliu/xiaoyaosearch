{
  "接口信息": {
    "接口路径": "POST /api/index/create",
    "功能说明": "创建文件索引任务，对指定文件夹进行文件扫描和索引构建",
    "请求方式": "POST",
    "Content-Type": "application/json",
    "接口版本": "v1.0.0"
  },
  "请求参数": {
    "正常场景": {
      "folder_path": "D:/Documents",
      "file_types": ["pdf", "txt", "md", "docx", "xlsx", "mp3", "mp4", "wav"],
      "recursive": true
    },
    "仅文档索引场景": {
      "folder_path": "D:/Projects",
      "file_types": ["pdf", "txt", "md", "docx", "xlsx"],
      "recursive": false
    },
    "多媒体索引场景": {
      "folder_path": "D:/Media",
      "file_types": ["mp3", "mp4", "wav", "jpg", "png"],
      "recursive": true
    },
    "边界场景": {
      "folder_path": "D:/",
      "file_types": ["pdf", "txt", "md", "docx", "xlsx", "mp3", "mp4", "wav", "jpg", "png", "webp", "m4a", "flac"],
      "recursive": true
    },
    "参数无效场景": {
      "folder_path": "",
      "file_types": ["invalid_format"],
      "recursive": false
    },
    "文件夹不存在场景": {
      "folder_path": "D:/NonExistentFolder",
      "file_types": ["pdf"],
      "recursive": true
    }
  },
  "响应数据": {
    "成功响应": {
      "success": true,
      "data": {
        "index_id": 1,
        "status": "processing",
        "message": "索引任务已创建并开始执行",
        "estimated_time": "预计需要 5-10 分钟完成",
        "folder_path": "D:/Documents",
        "total_files_found": 156,
        "supported_files": 142,
        "unsupported_files": 14
      }
    },
    "大型文件夹成功响应": {
      "success": true,
      "data": {
        "index_id": 2,
        "status": "processing",
        "message": "大型文件夹索引任务已创建，正在后台处理",
        "estimated_time": "预计需要 15-25 分钟完成",
        "folder_path": "D:/Projects",
        "total_files_found": 2847,
        "supported_files": 2653,
        "unsupported_files": 194
      }
    },
    "文件夹不存在错误响应": {
      "success": false,
      "error": {
        "code": "FOLDER_NOT_FOUND",
        "message": "指定的文件夹不存在",
        "details": "文件夹路径：D:/NonExistentFolder，请检查路径是否正确"
      }
    },
    "权限不足错误响应": {
      "success": false,
      "error": {
        "code": "PERMISSION_DENIED",
        "message": "没有访问该文件夹的权限",
        "details": "文件夹：C:/Windows/System32，请选择其他文件夹或以管理员身份运行"
      }
    },
    "索引任务运行中错误响应": {
      "success": false,
      "error": {
        "code": "INDEX_JOB_RUNNING",
        "message": "该文件夹已有索引任务在运行中",
        "details": "当前任务ID：1，请等待当前任务完成后再创建新任务"
      }
    },
    "参数验证错误响应": {
      "success": false,
      "error": {
        "code": "VALIDATION_ERROR",
        "message": "请求参数验证失败",
        "details": "folder_path字段不能为空，file_types必须包含有效的文件类型"
      }
    },
    "系统资源不足错误响应": {
      "success": false,
      "error": {
        "code": "INSUFFICIENT_RESOURCES",
        "message": "系统资源不足，无法创建新的索引任务",
        "details": "当前已有3个索引任务在运行，请等待部分任务完成后重试"
      }
    },
    "磁盘空间不足错误响应": {
      "success": false,
      "error": {
        "code": "INSUFFICIENT_DISK_SPACE",
        "message": "磁盘空间不足",
        "details": "预计需要 2.5GB 索引空间，当前可用空间：1.2GB"
      }
    }
  },
  "使用说明": {
    "集成方式": "创建索引后，前端应轮询索引状态接口获取进度，或使用WebSocket实时推送",
    "测试建议": [
      "测试不同大小文件夹的索引创建时间",
      "测试递归和非递归模式的差异",
      "测试不同文件类型的索引效果",
      "测试并发创建索引任务的处理"
    ],
    "支持的文件类型": {
      "文档": ["pdf", "txt", "md", "docx", "xlsx", "pptx"],
      "音频": ["mp3", "wav", "m4a", "flac"],
      "视频": ["mp4", "avi", "mkv"],
      "图像": ["jpg", "jpeg", "png", "webp"]
    },
    "性能考虑": [
      "大型文件夹索引可能需要较长时间，建议显示进度条",
      "索引过程中会占用较多CPU和内存资源",
      "索引文件大小约为原文件大小的10-20%",
      "建议在空闲时间进行大型文件夹索引"
    ],
    "注意事项": [
      "索引过程中可以暂停和取消任务",
      "索引完成后会自动开始支持搜索",
      "系统会定期重建索引以保持数据新鲜度",
      "索引文件存储在应用数据目录中"
    ]
  }
}