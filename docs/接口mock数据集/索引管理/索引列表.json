{
  "接口信息": {
    "接口路径": "GET /api/index/list",
    "功能说明": "获取索引任务列表，支持状态过滤和分页查询",
    "请求方式": "GET",
    "Content-Type": "application/json",
    "接口版本": "v1.0.0"
  },
  "请求参数": {
    "正常场景": {
      "status": null,
      "limit": 10,
      "offset": 0
    },
    "状态过滤场景": {
      "status": "completed",
      "limit": 20,
      "offset": 0
    },
    "处理中任务场景": {
      "status": "processing",
      "limit": 5,
      "offset": 0
    },
    "失败任务场景": {
      "status": "failed",
      "limit": 10,
      "offset": 0
    },
    "分页场景": {
      "status": null,
      "limit": 5,
      "offset": 10
    },
    "边界场景": {
      "status": "completed",
      "limit": 100,
      "offset": 0
    },
    "参数无效场景": {
      "status": "invalid_status",
      "limit": 0,
      "offset": -1
    }
  },
  "响应数据": {
    "完整列表响应": {
      "success": true,
      "data": {
        "indexes": [
          {
            "id": 1,
            "folder_path": "D:/Documents",
            "status": "completed",
            "total_files": 156,
            "processed_files": 154,
            "error_count": 2,
            "progress": 100,
            "created_at": "2024-01-20T10:00:00Z",
            "completed_at": "2024-01-20T10:15:32Z",
            "index_size": "1.2GB",
            "file_types": ["pdf", "docx", "txt", "md"],
            "last_accessed": "2024-01-20T14:30:00Z",
            "search_count": 25
          },
          {
            "id": 2,
            "folder_path": "D:/Projects",
            "status": "processing",
            "total_files": 2847,
            "processed_files": 1256,
            "error_count": 5,
            "progress": 44,
            "created_at": "2024-01-20T11:00:00Z",
            "completed_at": null,
            "estimated_completion": "2024-01-20T13:30:00Z",
            "current_file": "D:/Projects/backend/api.py",
            "processing_speed": "15 文件/秒"
          },
          {
            "id": 3,
            "folder_path": "D:/Media",
            "status": "failed",
            "total_files": 85,
            "processed_files": 20,
            "error_count": 1,
            "progress": 24,
            "created_at": "2024-01-19T16:30:00Z",
            "completed_at": "2024-01-19T16:45:12Z",
            "error_message": "磁盘空间不足",
            "retry_count": 2
          },
          {
            "id": 4,
            "folder_path": "D:/Archive",
            "status": "paused",
            "total_files": 432,
            "processed_files": 216,
            "error_count": 0,
            "progress": 50,
            "created_at": "2024-01-18T09:00:00Z",
            "completed_at": null,
            "paused_at": "2024-01-18T09:25:43Z",
            "pause_reason": "用户手动暂停"
          },
          {
            "id": 5,
            "folder_path": "D:/Learning",
            "status": "pending",
            "total_files": 128,
            "processed_files": 0,
            "error_count": 0,
            "progress": 0,
            "created_at": "2024-01-20T12:00:00Z",
            "completed_at": null,
            "queue_position": 1
          }
        ],
        "total": 5,
        "status_summary": {
          "completed": 1,
          "processing": 1,
          "failed": 1,
          "paused": 1,
          "pending": 1
        },
        "total_index_size": "1.2GB",
        "total_files_indexed": 1705
      }
    },
    "已完成索引列表响应": {
      "success": true,
      "data": {
        "indexes": [
          {
            "id": 1,
            "folder_path": "D:/Documents",
            "status": "completed",
            "total_files": 156,
            "processed_files": 154,
            "error_count": 2,
            "progress": 100,
            "created_at": "2024-01-20T10:00:00Z",
            "completed_at": "2024-01-20T10:15:32Z",
            "index_size": "1.2GB",
            "file_types": ["pdf", "docx", "txt", "md"],
            "last_accessed": "2024-01-20T14:30:00Z",
            "search_count": 25,
            "health_status": "healthy"
          },
          {
            "id": 6,
            "folder_path": "D:/Books",
            "status": "completed",
            "total_files": 89,
            "processed_files": 89,
            "error_count": 0,
            "progress": 100,
            "created_at": "2024-01-15T14:20:00Z",
            "completed_at": "2024-01-15T14:28:15Z",
            "index_size": "450MB",
            "file_types": ["pdf", "epub", "mobi"],
            "last_accessed": "2024-01-19T09:15:00Z",
            "search_count": 8,
            "health_status": "healthy"
          }
        ],
        "total": 2,
        "total_index_size": "1.65GB",
        "total_files_indexed": 243
      }
    },
    "处理中索引列表响应": {
      "success": true,
      "data": {
        "indexes": [
          {
            "id": 2,
            "folder_path": "D:/Projects",
            "status": "processing",
            "total_files": 2847,
            "processed_files": 1256,
            "error_count": 5,
            "progress": 44,
            "created_at": "2024-01-20T11:00:00Z",
            "completed_at": null,
            "estimated_completion": "2024-01-20T13:30:00Z",
            "current_file": "D:/Projects/backend/api.py",
            "processing_speed": "15 文件/秒",
            "resource_usage": {
              "cpu_percent": 35,
              "memory_mb": 512
            }
          }
        ],
        "total": 1
      }
    },
    "空列表响应": {
      "success": true,
      "data": {
        "indexes": [],
        "total": 0
      }
    },
    "分页响应": {
      "success": true,
      "data": {
        "indexes": [
          {
            "id": 11,
            "folder_path": "D:/OldProjects",
            "status": "completed",
            "total_files": 234,
            "processed_files": 230,
            "error_count": 4,
            "progress": 100,
            "created_at": "2024-01-10T08:00:00Z",
            "completed_at": "2024-01-10T08:12:45Z",
            "index_size": "800MB",
            "last_accessed": "2024-01-15T11:20:00Z",
            "search_count": 3
          }
        ],
        "total": 15,
        "has_more": true,
        "next_offset": 15
      }
    },
    "参数验证错误响应": {
      "success": false,
      "error": {
        "code": "VALIDATION_ERROR",
        "message": "请求参数验证失败",
        "details": "status参数值无效，支持的状态：pending/processing/completed/failed/paused，limit必须在1-100之间，offset不能为负数"
      }
    }
  },
  "状态说明": {
    "pending": "排队等待中",
    "processing": "正在处理",
    "paused": "已暂停",
    "completed": "已完成",
    "failed": "执行失败",
    "cancelled": "已取消"
  },
  "使用说明": {
    "集成方式": "提供索引管理界面的核心数据，支持状态过滤和分页加载",
    "测试建议": [
      "测试不同状态的索引显示效果",
      "测试分页功能的正确性",
      "测试状态过滤的准确性",
      "测试大量索引时的性能表现"
    ],
    "界面展示": [
      "显示索引进度条和状态图标",
      "提供快速操作按钮（暂停/继续/删除）",
      "显示索引大小和文件统计",
      "提供搜索和排序功能"
    ],
    "性能优化": {
      "建议": "对于大量索引，建议使用虚拟滚动技术",
      "缓存策略": "可以缓存索引列表，定期刷新状态"
    },
    "批量操作": {
      "支持": "前端可以实现批量暂停、删除等操作",
      "注意": "批量操作时要注意系统资源消耗"
    },
    "实时更新": {
      "推荐": "对于处理中的索引，建议使用WebSocket实时更新状态",
      "轮询": "也可以使用定时轮询，但要控制频率"
    }
  }
}