{
  "接口信息": {
    "接口路径": "GET /api/config/ai-models",
    "功能说明": "获取所有AI模型配置列表，包含模型状态和详细信息",
    "请求方式": "GET",
    "Content-Type": "application/json",
    "接口版本": "v1.0.0"
  },
  "请求参数": {
    "正常场景": {
      "model_type": null,
      "provider": null,
      "status": null
    },
    "按类型过滤场景": {
      "model_type": "embedding",
      "provider": null,
      "status": null
    },
    "按提供商过滤场景": {
      "model_type": null,
      "provider": "local",
      "status": null
    },
    "按状态过滤场景": {
      "model_type": null,
      "provider": null,
      "status": "active"
    },
    "组合过滤场景": {
      "model_type": "speech",
      "provider": "cloud",
      "status": "inactive"
    }
  },
  "响应数据": {
    "完整模型列表响应": {
      "success": true,
      "data": [
        {
          "id": 1,
          "model_type": "embedding",
          "provider": "local",
          "model_name": "bge-m3",
          "config_json": "{\"model_path\": \"/models/bge-m3\", \"device\": \"cpu\", \"embedding_dim\": 768, \"max_length\": 8192}",
          "is_active": true,
          "created_at": "2024-01-15T08:00:00Z",
          "updated_at": "2024-01-15T08:00:00Z",
          "model_info": {
            "size": "2.1GB",
            "version": "v1.5.0",
            "description": "BGE-M3多语言嵌入模型，支持8192token长度"
          },
          "status": "loaded",
          "health_status": "healthy",
          "performance_metrics": {
            "memory_usage": "2.1GB",
            "response_time": 0.12,
            "throughput": "1000 文本/秒"
          },
          "last_used": "2024-01-20T15:30:00Z",
          "usage_count": 15420
        },
        {
          "id": 2,
          "model_type": "speech",
          "provider": "cloud",
          "model_name": "aliyun-asr",
          "config_json": "{\"api_key\": \"***masked***\", \"endpoint\": \"https://nls-gateway.cn-shanghai.aliyuncs.com\"}",
          "is_active": false,
          "created_at": "2024-01-15T08:30:00Z",
          "updated_at": "2024-01-18T14:20:00Z",
          "model_info": {
            "api_provider": "阿里云",
            "version": "1.0",
            "description": "阿里云语音识别服务，支持中文和英文"
          },
          "status": "not_loaded",
          "health_status": "unknown",
          "last_test": "2024-01-18T14:20:00Z",
          "test_result": "failed",
          "error_message": "API密钥已过期"
        },
        {
          "id": 3,
          "model_type": "vision",
          "provider": "local",
          "model_name": "cn-clip",
          "config_json": "{\"model_path\": \"/models/cn-clip-vit-base\", \"device\": \"cpu\", \"image_size\": 224}",
          "is_active": true,
          "created_at": "2024-01-16T10:00:00Z",
          "updated_at": "2024-01-16T10:00:00Z",
          "model_info": {
            "size": "1.5GB",
            "version": "v1.0",
            "description": "中文CLIP模型，用于图像-文本匹配"
          },
          "status": "loaded",
          "health_status": "healthy",
          "performance_metrics": {
            "memory_usage": "1.5GB",
            "response_time": 0.25,
            "throughput": "50 图像/秒"
          },
          "last_used": "2024-01-20T14:15:00Z",
          "usage_count": 3280
        },
        {
          "id": 4,
          "model_type": "speech",
          "provider": "local",
          "model_name": "faster-whisper",
          "config_json": "{\"model_size\": \"base\", \"device\": \"cpu\", \"compute_type\": \"int8\"}",
          "is_active": false,
          "created_at": "2024-01-17T11:30:00Z",
          "updated_at": "2024-01-17T11:30:00Z",
          "model_info": {
            "size": "142MB",
            "version": "1.0.0",
            "description": "轻量级语音识别模型，支持多种语言"
          },
          "status": "not_loaded",
          "health_status": "healthy",
          "download_status": "completed",
          "last_used": "2024-01-19T09:45:00Z",
          "usage_count": 856
        },
        {
          "id": 5,
          "model_type": "llm",
          "provider": "cloud",
          "model_name": "gpt-3.5-turbo",
          "config_json": "{\"api_key\": \"***masked***\", \"base_url\": \"https://api.openai.com/v1\"}",
          "is_active": true,
          "created_at": "2024-01-18T15:00:00Z",
          "updated_at": "2024-01-20T10:30:00Z",
          "model_info": {
            "api_provider": "OpenAI",
            "version": "0613",
            "description": "GPT-3.5 Turbo，用于文本理解和生成"
          },
          "status": "loaded",
          "health_status": "healthy",
          "last_test": "2024-01-20T10:30:00Z",
          "test_result": "passed",
          "performance_metrics": {
            "response_time": 1.2,
            "tokens_per_second": 150
          },
          "last_used": "2024-01-20T15:45:00Z",
          "usage_count": 245
        }
      ]
    },
    "按类型过滤响应（仅嵌入模型）": {
      "success": true,
      "data": [
        {
          "id": 1,
          "model_type": "embedding",
          "provider": "local",
          "model_name": "bge-m3",
          "config_json": "{\"model_path\": \"/models/bge-m3\", \"device\": \"cpu\", \"embedding_dim\": 768}",
          "is_active": true,
          "created_at": "2024-01-15T08:00:00Z",
          "updated_at": "2024-01-15T08:00:00Z",
          "status": "loaded",
          "health_status": "healthy"
        }
      ]
    },
    "本地模型列表响应": {
      "success": true,
      "data": [
        {
          "id": 1,
          "model_type": "embedding",
          "provider": "local",
          "model_name": "bge-m3",
          "config_json": "{\"model_path\": \"/models/bge-m3\", \"device\": \"cpu\"}",
          "is_active": true,
          "status": "loaded",
          "health_status": "healthy",
          "model_info": {
            "size": "2.1GB",
            "local_path": "/models/bge-m3"
          }
        },
        {
          "id": 3,
          "model_type": "vision",
          "provider": "local",
          "model_name": "cn-clip",
          "config_json": "{\"model_path\": \"/models/cn-clip-vit-base\", \"device\": \"cpu\"}",
          "is_active": true,
          "status": "loaded",
          "health_status": "healthy",
          "model_info": {
            "size": "1.5GB",
            "local_path": "/models/cn-clip-vit-base"
          }
        }
      ]
    },
    "云端模型列表响应": {
      "success": true,
      "data": [
        {
          "id": 2,
          "model_type": "speech",
          "provider": "cloud",
          "model_name": "aliyun-asr",
          "config_json": "{\"api_key\": \"***masked***\", \"endpoint\": \"https://nls-gateway.cn-shanghai.aliyuncs.com\"}",
          "is_active": false,
          "status": "not_loaded",
          "health_status": "error",
          "error_message": "API密钥已过期"
        },
        {
          "id": 5,
          "model_type": "llm",
          "provider": "cloud",
          "model_name": "gpt-3.5-turbo",
          "config_json": "{\"api_key\": \"***masked***\", \"base_url\": \"https://api.openai.com/v1\"}",
          "is_active": true,
          "status": "loaded",
          "health_status": "healthy"
        }
      ]
    },
    "活跃模型列表响应": {
      "success": true,
      "data": [
        {
          "id": 1,
          "model_type": "embedding",
          "provider": "local",
          "model_name": "bge-m3",
          "is_active": true,
          "status": "loaded",
          "health_status": "healthy"
        },
        {
          "id": 3,
          "model_type": "vision",
          "provider": "local",
          "model_name": "cn-clip",
          "is_active": true,
          "status": "loaded",
          "health_status": "healthy"
        },
        {
          "id": 5,
          "model_type": "llm",
          "provider": "cloud",
          "model_name": "gpt-3.5-turbo",
          "is_active": true,
          "status": "loaded",
          "health_status": "healthy"
        }
      ]
    },
    "空模型列表响应": {
      "success": true,
      "data": []
    },
    "参数验证错误响应": {
      "success": false,
      "error": {
        "code": "VALIDATION_ERROR",
        "message": "请求参数验证失败",
        "details": "model_type必须是embedding/speech/vision/llm之一，provider必须是local/cloud之一"
      }
    },
    "数据库连接错误响应": {
      "success": false,
      "error": {
        "code": "DATABASE_CONNECTION_FAILED",
        "message": "无法连接到模型配置数据库",
        "details": "请检查数据库服务是否正常运行"
      }
    }
  },
  "状态说明": {
    "loaded": "模型已加载到内存，可以正常使用",
    "not_loaded": "模型未加载，需要时可以动态加载",
    "loading": "模型正在加载中",
    "error": "模型加载失败或配置错误",
    "unknown": "状态未知，可能需要重新检测"
  },
  "健康状态说明": {
    "healthy": "模型运行正常",
    "warning": "模型可用但有性能问题",
    "error": "模型不可用，需要修复",
    "unknown": "健康状态未知"
  },
  "使用说明": {
    "集成方式": "展示所有已配置的AI模型，支持过滤、排序和状态监控",
    "测试建议": [
      "测试不同过滤条件的列表显示",
      "测试模型状态的实时更新",
      "测试模型性能指标的显示",
      "测试错误状态的处理和提示"
    ],
    "界面展示": [
      "显示模型类型图标和提供商信息",
      "提供模型状态指示灯和健康状态",
      "显示模型大小和内存使用情况",
      "提供快速操作按钮（启用/禁用/测试）"
    ],
    "实时更新": {
      "推荐": "对于模型状态变化，建议使用WebSocket实时推送",
      "轮询": "可以定时刷新状态，但要注意频率控制"
    },
    "性能监控": {
      "指标": "响应时间、吞吐量、内存使用、错误率",
      "建议": "定期收集性能数据，用于模型优化"
    },
    "安全管理": [
      "敏感配置信息应脱敏显示",
      "提供配置备份和恢复功能",
      "记录配置变更历史",
      "支持配置审计功能"
    ]
  }
}