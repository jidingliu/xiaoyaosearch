{
  "接口信息": {
    "接口路径": "POST /api/config/ai-model/{model_id}/test",
    "功能说明": "测试指定AI模型的连接和功能是否正常",
    "请求方式": "POST",
    "Content-Type": "application/json",
    "接口版本": "v1.0.0"
  },
  "请求参数": {
    "正常场景": {
      "model_id": 1
    },
    "测试本地模型场景": {
      "model_id": 3
    },
    "测试云端模型场景": {
      "model_id": 2
    },
    "测试LLM模型场景": {
      "model_id": 5
    },
    "不存在的模型场景": {
      "model_id": 999
    },
    "参数无效场景": {
      "model_id": -1
    },
    "自定义测试参数场景": {
      "model_id": 1,
      "test_input": "这是一个测试文本",
      "test_options": {
        "timeout": 30,
        "detailed_output": true
      }
    }
  },
  "响应数据": {
    "本地嵌入模型测试成功响应": {
      "success": true,
      "data": {
        "model_id": 1,
        "test_passed": true,
        "response_time": 0.12,
        "test_message": "BGE-M3模型测试成功，响应时间：120ms",
        "test_details": {
          "test_input": "人工智能技术发展",
          "embedding_dimension": 768,
          "embedding_preview": [0.0234, -0.0156, 0.0421, 0.0089, "..."],
          "processing_time": 0.08,
          "memory_usage": "2.1GB",
          "model_status": "loaded"
        },
        "performance_metrics": {
          "throughput": "1000 文本/秒",
          "accuracy": "95.2%",
          "memory_efficiency": "良好"
        },
        "health_check": {
          "status": "healthy",
          "warnings": [],
          "recommendations": []
        },
        "timestamp": "2024-01-20T16:30:00Z"
      }
    },
    "云端语音模型测试成功响应": {
      "success": true,
      "data": {
        "model_id": 2,
        "test_passed": true,
        "response_time": 1.85,
        "test_message": "阿里云语音识别服务测试成功，响应时间：1.85秒",
        "test_details": {
          "test_audio": "test_audio.wav",
          "test_duration": 5.2,
          "recognized_text": "你好，这是一个语音识别测试",
          "confidence": 0.96,
          "api_response_time": 1.75,
          "network_latency": 0.10
        },
        "api_info": {
          "endpoint": "https://nls-gateway.cn-shanghai.aliyuncs.com",
          "api_version": "1.0",
          "request_id": "req_1234567890"
        },
        "health_check": {
          "status": "healthy",
          "warnings": [],
          "recommendations": ["建议使用更短的音频以提高响应速度"]
        },
        "timestamp": "2024-01-20T16:32:00Z"
      }
    },
    "本地视觉模型测试成功响应": {
      "success": true,
      "data": {
        "model_id": 3,
        "test_passed": true,
        "response_time": 0.25,
        "test_message": "CN-CLIP视觉模型测试成功，响应时间：250ms",
        "test_details": {
          "test_image": "test_image.jpg",
          "image_size": "224x224",
          "test_text": "一张蓝天白云的风景照片",
          "similarity_score": 0.87,
          "feature_vector_dimension": 512,
          "processing_time": 0.20
        },
        "model_info": {
          "model_size": "1.5GB",
          "supported_formats": ["jpg", "jpeg", "png", "webp"],
          "max_image_size": "1024x1024"
        },
        "health_check": {
          "status": "healthy",
          "warnings": [],
          "recommendations": []
        },
        "timestamp": "2024-01-20T16:35:00Z"
      }
    },
    "LLM模型测试成功响应": {
      "success": true,
      "data": {
        "model_id": 5,
        "test_passed": true,
        "response_time": 1.45,
        "test_message": "GPT-3.5 Turbo模型测试成功，响应时间：1.45秒",
        "test_details": {
          "test_prompt": "请简单介绍一下人工智能",
          "model_response": "人工智能（AI）是计算机科学的一个分支，致力于创建能够模拟人类智能的系统。它包括机器学习、深度学习、自然语言处理等技术。",
          "tokens_used": {
            "input": 15,
            "output": 45,
            "total": 60
          },
          "response_quality": "优秀",
          "coherence_score": 0.92
        },
        "api_info": {
          "provider": "OpenAI",
          "model": "gpt-3.5-turbo",
          "endpoint": "https://api.openai.com/v1/chat/completions",
          "cost_per_request": "$0.0002"
        },
        "health_check": {
          "status": "healthy",
          "warnings": ["当前API使用量接近限额"],
          "recommendations": ["监控API使用量，避免超出限额"]
        },
        "timestamp": "2024-01-20T16:38:00Z"
      }
    },
    "模型测试失败响应": {
      "success": true,
      "data": {
        "model_id": 2,
        "test_passed": false,
        "response_time": 5.0,
        "test_message": "阿里云语音识别服务测试失败",
        "test_details": {
          "error_type": "API_ERROR",
          "error_code": "InvalidApiKey",
          "error_message": "API密钥无效或已过期",
          "http_status": 401,
          "response_body": "{\"error\": \"Invalid API key\"}"
        },
        "diagnostics": {
          "network_connectivity": "正常",
          "dns_resolution": "成功",
          "ssl_certificate": "有效",
          "issue": "认证失败"
        },
        "suggestions": [
          "检查API密钥是否正确",
          "确认API密钥是否已过期",
          "验证账户余额是否充足",
          "检查API访问权限配置"
        ],
        "timestamp": "2024-01-20T16:40:00Z"
      }
    },
    "本地模型加载失败响应": {
      "success": true,
      "data": {
        "model_id": 4,
        "test_passed": false,
        "response_time": 2.5,
        "test_message": "Faster-Whisper模型加载失败",
        "test_details": {
          "error_type": "MODEL_LOAD_ERROR",
          "error_message": "模型文件损坏或不存在",
          "model_path": "/models/faster-whisper-base",
          "disk_space": "充足",
          "file_permissions": "正常"
        },
        "diagnostics": {
          "model_file_exists": false,
          "expected_size": "142MB",
          "available_memory": "8.2GB",
          "cpu_usage": "15%"
        },
        "suggestions": [
          "重新下载模型文件",
          "检查模型文件完整性",
          "验证模型文件路径配置",
          "确认磁盘空间充足"
        ],
        "timestamp": "2024-01-20T16:42:00Z"
      }
    },
    "超时错误响应": {
      "success": true,
      "data": {
        "model_id": 5,
        "test_passed": false,
        "response_time": 30.0,
        "test_message": "GPT-3.5 Turbo模型测试超时",
        "test_details": {
          "error_type": "TIMEOUT_ERROR",
          "timeout_limit": 30,
          "actual_time": 30.0,
          "last_activity": "发送请求后15秒"
        },
        "diagnostics": {
          "network_status": "可能存在网络问题",
          "api_status": "未知",
          "possible_causes": [
            "网络连接不稳定",
            "API服务器响应缓慢",
            "请求参数格式错误"
          ]
        },
        "suggestions": [
          "检查网络连接",
          "稍后重试测试",
          "联系API提供商确认服务状态",
          "调整超时设置"
        ],
        "timestamp": "2024-01-20T16:45:00Z"
      }
    },
    "模型不存在错误响应": {
      "success": false,
      "error": {
        "code": "NOT_FOUND",
        "message": "指定的模型配置不存在",
        "details": "模型ID：999，请检查ID是否正确"
      }
    },
    "参数验证错误响应": {
      "success": false,
      "error": {
        "code": "VALIDATION_ERROR",
        "message": "请求参数验证失败",
        "details": "model_id必须是正整数"
      }
    },
    "系统资源不足响应": {
      "success": true,
      "data": {
        "model_id": 1,
        "test_passed": false,
        "response_time": 0.5,
        "test_message": "系统资源不足，无法完成测试",
        "test_details": {
          "error_type": "INSUFFICIENT_RESOURCES",
          "required_memory": "4GB",
          "available_memory": "2.1GB",
          "cpu_usage": "85%",
          "memory_usage": "78%"
        },
        "suggestions": [
          "关闭其他应用程序释放内存",
          "重启应用程序清理内存",
          "升级系统硬件配置",
          "使用较小的模型进行测试"
        ],
        "timestamp": "2024-01-20T16:47:00Z"
      }
    }
  },
  "测试类型说明": {
    "embedding": "测试文本嵌入功能，验证模型能否正确生成向量表示",
    "speech": "测试语音识别功能，验证模型能否准确转换语音为文本",
    "vision": "测试图像理解功能，验证模型能否正确分析图像内容",
    "llm": "测试文本生成和理解功能，验证模型能否正常对话"
  },
  "使用说明": {
    "集成方式": "提供模型测试功能，支持一键测试和详细测试报告",
    "测试建议": [
      "定期测试模型健康状态",
      "测试不同类型和复杂度的输入",
      "监控模型性能变化趋势",
      "记录测试结果用于问题诊断"
    ],
    "测试流程": [
      "验证模型配置信息",
      "检查模型文件或API连接",
      "执行功能测试",
      "收集性能指标",
      "生成测试报告"
    ],
    "性能指标": {
      "响应时间": "处理单个请求的时间",
      "吞吐量": "每秒处理的请求数",
      "准确率": "输出结果的正确性",
      "资源使用": "CPU、内存、网络占用"
    },
    "错误处理": {
      "网络错误": "检查连接和防火墙设置",
      "认证错误": "验证API密钥和权限",
      "资源错误": "释放内存或升级硬件",
      "配置错误": "检查参数设置和路径"
    },
    "测试报告": {
      "基础信息": "模型ID、类型、版本",
      "执行结果": "通过/失败状态",
      "性能数据": "响应时间、吞吐量",
      "诊断信息": "错误详情和建议",
      "时间戳": "测试执行时间"
    }
  }
}