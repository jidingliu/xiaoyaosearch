{
  "接口信息": {
    "接口路径": "POST /api/search/multimodal",
    "功能说明": "多模态搜索接口，支持语音输入和图像输入的智能搜索",
    "请求方式": "POST",
    "Content-Type": "multipart/form-data",
    "接口版本": "v1.0.0",
    "文件大小限制": "语音最大50MB(120秒)，图像最大10MB"
  },
  "请求参数": {
    "语音输入场景": {
      "input_type": "voice",
      "file": "recording.wav",
      "duration": 30,
      "content_type": "audio/wav"
    },
    "图像输入场景": {
      "input_type": "image",
      "file": "screenshot.png",
      "content_type": "image/png"
    },
    "边界场景": {
      "input_type": "voice",
      "file": "long_recording.mp3",
      "duration": 120,
      "content_type": "audio/mpeg"
    },
    "文件过大场景": {
      "input_type": "voice",
      "file": "oversized_file.wav",
      "size": "100MB"
    },
    "不支持的格式场景": {
      "input_type": "voice",
      "file": "video.mp4",
      "content_type": "video/mp4"
    }
  },
  "响应数据": {
    "语音搜索成功响应": {
      "success": true,
      "data": {
        "converted_text": "请帮我找一些关于机器学习的资料",
        "confidence": 0.95,
        "search_results": [
          {
            "file_id": 3,
            "file_name": "机器学习入门教程.pdf",
            "file_path": "D:/Learning/机器学习入门教程.pdf",
            "file_type": "document",
            "relevance_score": 0.88,
            "preview_text": "机器学习是人工智能的一个重要分支，它使计算机能够从数据中学习和改进。本教程涵盖了机器学习的基础概念、算法原理和实际应用...",
            "highlight": "机器学习是人工智能的一个重要分支，它使计算机能够从数据中学习和改进",
            "created_at": "2024-01-08T14:20:00Z",
            "modified_at": "2024-01-08T14:20:00Z",
            "file_size": 3124576,
            "match_type": "semantic"
          },
          {
            "file_id": 7,
            "file_name": "机器学习算法对比分析.xlsx",
            "file_path": "D:/Analysis/机器学习算法对比分析.xlsx",
            "file_type": "document",
            "relevance_score": 0.76,
            "preview_text": "本表格对比了各种机器学习算法的性能特点，包括准确率、训练时间、内存占用等关键指标。涵盖了监督学习、无监督学习和强化学习的主要算法...",
            "highlight": "本表格对比了各种<em>机器学习算法</em>的性能特点，包括准确率、训练时间、内存占用等关键指标",
            "created_at": "2024-01-12T11:30:00Z",
            "modified_at": "2024-01-15T16:45:00Z",
            "file_size": 892416,
            "match_type": "semantic"
          }
        ],
        "file_info": {
          "filename": "recording.wav",
          "size": 1024000,
          "content_type": "audio/wav",
          "duration": 25.5
        }
      }
    },
    "图像搜索成功响应": {
      "success": true,
      "data": {
        "converted_text": "蓝色背景的数据分析图表，显示销售趋势",
        "confidence": 0.87,
        "search_results": [
          {
            "file_id": 12,
            "file_name": "2024年销售数据分析报告.pdf",
            "file_path": "D:/Reports/2024年销售数据分析报告.pdf",
            "file_type": "document",
            "relevance_score": 0.82,
            "preview_text": "本报告详细分析了2024年的销售数据，包含各季度销售额对比、产品类别销售分布、地域销售趋势等关键信息。报告使用多种图表形式展示数据...",
            "highlight": "本报告详细分析了2024年的<em>销售数据</em>，包含各季度<em>销售额</em>对比、产品类别销售分布、地域<em>销售趋势</em>等关键信息",
            "created_at": "2024-01-18T09:15:00Z",
            "modified_at": "2024-01-20T14:30:00Z",
            "file_size": 16384,
            "match_type": "semantic"
          },
          {
            "file_id": 15,
            "file_name": "数据可视化最佳实践.pptx",
            "file_path": "D:/Presentations/数据可视化最佳实践.pptx",
            "file_type": "document",
            "relevance_score": 0.71,
            "preview_text": "本演示文稿介绍了数据可视化的设计原则和最佳实践，包括图表选择、颜色搭配、布局设计等方面。重点讲解如何有效地展示销售数据、财务指标等商业信息...",
            "highlight": "本演示文稿介绍了<em>数据可视化</em>的设计原则和最佳实践，重点讲解如何有效地展示<em>销售数据</em>、财务指标等商业信息",
            "created_at": "2023-12-20T16:00:00Z",
            "modified_at": "2024-01-05T10:20:00Z",
            "file_size": 5764608,
            "match_type": "semantic"
          }
        ],
        "file_info": {
          "filename": "chart_screenshot.png",
          "size": 245760,
          "content_type": "image/png",
          "resolution": "1920x1080"
        }
      }
    },
    "语音识别低置信度响应": {
      "success": true,
      "data": {
        "converted_text": "（无法识别的音频内容）",
        "confidence": 0.32,
        "search_results": [],
        "file_info": {
          "filename": "noisy_recording.wav",
          "size": 2048000,
          "content_type": "audio/wav",
          "duration": 45.2
        }
      }
    },
    "文件过大错误响应": {
      "success": false,
      "error": {
        "code": "FILE_TOO_LARGE",
        "message": "上传文件大小超出限制",
        "details": "语音文件最大支持50MB，当前文件大小：100MB"
      }
    },
    "不支持的格式错误响应": {
      "success": false,
      "error": {
        "code": "UNSUPPORTED_FILE_TYPE",
        "message": "不支持的文件类型",
        "details": "语音输入支持：mp3, wav, m4a, flac；图像输入支持：jpg, jpeg, png, webp"
      }
    },
    "语音识别失败响应": {
      "success": false,
      "error": {
        "code": "SPEECH_RECOGNITION_FAILED",
        "message": "语音识别服务暂时不可用",
        "details": "请检查网络连接或稍后重试"
      }
    },
    "图像处理失败响应": {
      "success": false,
      "error": {
        "code": "IMAGE_PROCESSING_FAILED",
        "message": "图像处理失败",
        "details": "无法解析图像文件内容，请检查文件是否损坏"
      }
    }
  },
  "使用说明": {
    "集成方式": "前端使用FormData上传文件，通过input_type参数指定输入类型",
    "测试建议": [
      "测试语音识别功能，验证不同音质和口音的识别准确度",
      "测试图像识别功能，验证图表、截图等不同类型图像的识别效果",
      "测试文件大小限制，确保大文件上传时的错误处理",
      "测试不支持的文件格式，验证错误提示的准确性"
    ],
    "支持的文件格式": {
      "语音": ["mp3", "wav", "m4a", "flac"],
      "图像": ["jpg", "jpeg", "png", "webp"]
    },
    "注意事项": [
      "语音文件最长支持120秒，超长文件会被自动截断",
      "图像文件会自动进行压缩和格式转换",
      "置信度低于0.5的识别结果不建议用于搜索",
      "文件上传过程应显示进度条，提升用户体验"
    ]
  }
}