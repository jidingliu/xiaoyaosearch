<template>
  <div class="help-page">
    <div class="help-container">
      <div class="help-header">
        <h1 class="help-title">å¸®åŠ©ä¸å…³äº</h1>
        <p class="help-description">äº†è§£å¦‚ä½•ä½¿ç”¨å°é¥æœç´¢ï¼Œè·å–å¸®åŠ©å’ŒæŠ€æœ¯æ”¯æŒ</p>
      </div>

      <div class="help-content">
        <a-row :gutter="[24, 24]">
          <a-col :xs="24" :lg="16">
            <!-- å¿«é€Ÿå…¥é—¨ -->
            <div class="help-section">
              <div class="section-header">
                <h2 class="section-title">
                  <RocketOutlined />
                  å¿«é€Ÿå…¥é—¨
                </h2>
                <p class="section-description">3åˆ†é’Ÿä¸Šæ‰‹å°é¥æœç´¢</p>
              </div>
              <div class="section-content">
                <a-steps direction="vertical" size="small">
                  <a-step title="é…ç½®AIæ¨¡å‹" description="åœ¨è®¾ç½®é¡µé¢é€‰æ‹©æˆ–é…ç½®AIæ¨¡å‹ï¼Œæ”¯æŒæœ¬åœ°å’Œäº‘ç«¯æ¨¡å‹" />
                  <a-step title="æ·»åŠ ç´¢å¼•æ–‡ä»¶å¤¹" description="åœ¨ç´¢å¼•ç®¡ç†é¡µé¢æ·»åŠ éœ€è¦æœç´¢çš„æ–‡ä»¶å¤¹è·¯å¾„" />
                  <a-step title="å¼€å§‹æœç´¢" description="ä½¿ç”¨è¯­éŸ³ã€æ–‡æœ¬æˆ–å›¾ç‰‡è¿›è¡Œæœç´¢ï¼ŒæŸ¥çœ‹æ™ºèƒ½æœç´¢ç»“æœ" />
                </a-steps>
              </div>
            </div>

            <!-- åŠŸèƒ½æ•™ç¨‹ -->
            <div class="help-section">
              <div class="section-header">
                <h2 class="section-title">
                  <BookOutlined />
                  åŠŸèƒ½æ•™ç¨‹
                </h2>
                <p class="section-description">æ·±å…¥å­¦ä¹ å„é¡¹åŠŸèƒ½çš„ä½¿ç”¨æ–¹æ³•</p>
              </div>
              <div class="section-content">
                <a-collapse v-model:activeKey="activeKey" accordion>
                  <a-collapse-panel key="1" header="å¤šæ¨¡æ€æœç´¢ä½¿ç”¨æŒ‡å—">
                    <div class="tutorial-content">
                      <h4>ğŸ¤ è¯­éŸ³æœç´¢</h4>
                      <p>ç‚¹å‡»è¯­éŸ³æŒ‡ç¤ºå™¨å¼€å§‹å½•éŸ³ï¼Œæœ€é•¿30ç§’ã€‚ç³»ç»Ÿä¼šè‡ªåŠ¨å°†è¯­éŸ³è½¬æ¢ä¸ºæ–‡å­—å¹¶è¿›è¡Œæœç´¢ã€‚</p>

                      <h4>ğŸ“ æ–‡æœ¬æœç´¢</h4>
                      <p>åœ¨æœç´¢æ¡†ä¸­è¾“å…¥å…³é”®è¯ï¼Œæ”¯æŒä¸­è‹±æ–‡æ··åˆæœç´¢ã€‚å¯ä»¥ä½¿ç”¨å¼•å·è¿›è¡Œç²¾ç¡®åŒ¹é…ã€‚</p>

                      <h4>ğŸ“· å›¾ç‰‡æœç´¢</h4>
                      <p>ä¸Šä¼ å›¾ç‰‡è¿›è¡Œè§†è§‰æœç´¢ï¼Œç³»ç»Ÿä¼šåˆ†æå›¾ç‰‡å†…å®¹å¹¶æ‰¾åˆ°ç›¸å…³æ–‡ä»¶ã€‚</p>
                    </div>
                  </a-collapse-panel>

                  <a-collapse-panel key="2" header="ç´¢å¼•ç®¡ç†è¯¦è§£">
                    <div class="tutorial-content">
                      <h4>åˆ›å»ºç´¢å¼•</h4>
                      <p>é€‰æ‹©è¦æœç´¢çš„æ–‡ä»¶å¤¹ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ‰«æå¹¶åˆ›å»ºæ–‡ä»¶ç´¢å¼•ã€‚</p>

                      <h4>ç´¢å¼•æ›´æ–°</h4>
                      <p>å½“æ–‡ä»¶å¤¹å†…å®¹å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¯ä»¥æ‰‹åŠ¨è§¦å‘é‡æ–°ç´¢å¼•ã€‚</p>

                      <h4>ç´¢å¼•ä¼˜åŒ–</h4>
                      <p>å®šæœŸä¼˜åŒ–ç´¢å¼•ä»¥æé«˜æœç´¢æ€§èƒ½å’Œå‡†ç¡®æ€§ã€‚</p>
                    </div>
                  </a-collapse-panel>

                  <a-collapse-panel key="3" header="é«˜çº§æœç´¢æŠ€å·§">
                    <div class="tutorial-content">
                      <h4>æœç´¢è¯­æ³•</h4>
                      <ul>
                        <li>ä½¿ç”¨å¼•å·è¿›è¡Œç²¾ç¡®åŒ¹é…ï¼š`"äººå·¥æ™ºèƒ½"`</li>
                        <li>ä½¿ç”¨AND/ORè¿›è¡Œé€»è¾‘ç»„åˆï¼š`AI AND æœºå™¨å­¦ä¹ `</li>
                        <li>ä½¿ç”¨å‡å·æ’é™¤å…³é”®è¯ï¼š`æœç´¢ -æµ‹è¯•`</li>
                      </ul>

                      <h4>è¿‡æ»¤æœç´¢</h4>
                      <p>å¯ä»¥æŒ‰æ–‡ä»¶ç±»å‹ã€å¤§å°ã€ä¿®æ”¹æ—¶é—´ç­‰æ¡ä»¶è¿‡æ»¤æœç´¢ç»“æœã€‚</p>
                    </div>
                  </a-collapse-panel>
                </a-collapse>
              </div>
            </div>
          </a-col>

          <a-col :xs="24" :lg="8">
            <!-- å¿«æ·é”® -->
            <div class="help-section">
              <div class="section-header">
                <h2 class="section-title">
                  <KeyboardOutlined />
                  å¿«æ·é”®
                </h2>
                <p class="section-description">æé«˜æœç´¢æ•ˆç‡çš„å¿«æ·æ“ä½œ</p>
              </div>
              <div class="section-content">
                <div class="shortcut-list">
                  <div class="shortcut-item">
                    <kbd class="key">Ctrl</kbd> + <kbd class="key">K</kbd>
                    <span class="shortcut-desc">å¿«é€Ÿèšç„¦æœç´¢æ¡†</span>
                  </div>
                  <div class="shortcut-item">
                    <kbd class="key">Enter</kbd>
                    <span class="shortcut-desc">æ‰§è¡Œæœç´¢</span>
                  </div>
                  <div class="shortcut-item">
                    <kbd class="key">â†‘</kbd> / <kbd class="key">â†“</kbd>
                    <span class="shortcut-desc">é€‰æ‹©æœç´¢å»ºè®®</span>
                  </div>
                  <div class="shortcut-item">
                    <kbd class="key">Esc</kbd>
                    <span class="shortcut-desc">æ¸…ç©ºæœç´¢</span>
                  </div>
                  <div class="shortcut-item">
                    <kbd class="key">Ctrl</kbd> + <kbd class="key">/</kbd>
                    <span class="shortcut-desc">æ˜¾ç¤ºå¿«æ·é”®å¸®åŠ©</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- å¸¸è§é—®é¢˜ -->
            <div class="help-section">
              <div class="section-header">
                <h2 class="section-title">
                  <QuestionCircleOutlined />
                  å¸¸è§é—®é¢˜
                </h2>
                <p class="section-description">è§£ç­”ç”¨æˆ·å¸¸è§ç–‘é—®</p>
              </div>
              <div class="section-content">
                <div class="faq-list">
                  <div class="faq-item" v-for="faq in faqs" :key="faq.id">
                    <div class="faq-question" @click="toggleFaq(faq.id)">
                      {{ faq.question }}
                      <DownOutlined :class="{ 'expanded': faq.expanded }" />
                    </div>
                    <div class="faq-answer" v-show="faq.expanded">
                      {{ faq.answer }}
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- æŠ€æœ¯æ”¯æŒ -->
            <div class="help-section">
              <div class="section-header">
                <h2 class="section-title">
                  <CustomerServiceOutlined />
                  æŠ€æœ¯æ”¯æŒ
                </h2>
                <p class="section-description">è·å–å¸®åŠ©å’Œåé¦ˆé—®é¢˜</p>
              </div>
              <div class="section-content">
                <div class="support-options">
                  <div class="support-option">
                    <GithubOutlined class="support-icon" />
                    <div class="support-info">
                      <h4>GitHub Issues</h4>
                      <p>æäº¤é—®é¢˜å’ŒåŠŸèƒ½è¯·æ±‚</p>
                      <a href="#" target="_blank">github.com/xiaoyao-search</a>
                    </div>
                  </div>
                  <div class="support-option">
                    <MailOutlined class="support-icon" />
                    <div class="support-info">
                      <h4>é‚®ä»¶æ”¯æŒ</h4>
                      <p>å‘é€é‚®ä»¶è·å–æŠ€æœ¯æ”¯æŒ</p>
                      <a href="mailto:support@xiaoyao-search.com">support@xiaoyao-search.com</a>
                    </div>
                  </div>
                  <div class="support-option">
                    <WechatOutlined class="support-icon" />
                    <div class="support-info">
                      <h4>å¾®ä¿¡äº¤æµç¾¤</h4>
                      <p>åŠ å…¥ç”¨æˆ·äº¤æµç¾¤</p>
                      <span>æ‰«ç åŠ å…¥å¾®ä¿¡ç¾¤</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </a-col>
        </a-row>
      </div>

      <!-- å…³äºä¿¡æ¯ -->
      <div class="about-section">
        <div class="section-header">
          <h2 class="section-title">
            <InfoCircleOutlined />
            å…³äºå°é¥æœç´¢
          </h2>
        </div>
        <div class="section-content">
          <div class="about-content">
            <div class="about-logo">
              <span class="logo-text">â—¤å°é¥æœç´¢â—¢</span>
              <span class="version-badge">v2.0</span>
            </div>
            <div class="about-info">
              <p class="about-description">
                å°é¥æœç´¢æ˜¯ä¸€æ¬¾æ”¯æŒå¤šæ¨¡æ€AIæ™ºèƒ½æœç´¢çš„æœ¬åœ°æ¡Œé¢åº”ç”¨ï¼Œ
                ä¸ºçŸ¥è¯†å·¥ä½œè€…ã€å†…å®¹åˆ›ä½œè€…å’ŒæŠ€æœ¯å¼€å‘è€…æä¾›è¯­éŸ³ã€æ–‡æœ¬ã€å›¾åƒè¾“å…¥çš„æ™ºèƒ½æ–‡ä»¶æ£€ç´¢èƒ½åŠ›ã€‚
              </p>
              <div class="about-details">
                <div class="detail-item">
                  <span class="detail-label">å¼€å‘å›¢é˜Ÿ:</span>
                  <span class="detail-value">å°é¥æœç´¢å¼€å‘ç»„</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">æŠ€æœ¯æ ˆ:</span>
                  <span class="detail-value">Vue 3 + Electron + FastAPI</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">å¼€æºåè®®:</span>
                  <span class="detail-value">MIT License</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">æ›´æ–°æ—¥æœŸ:</span>
                  <span class="detail-value">2024å¹´11æœˆ24æ—¥</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, reactive } from 'vue'
import {
  RocketOutlined,
  BookOutlined,
  KeyboardOutlined,
  QuestionCircleOutlined,
  CustomerServiceOutlined,
  InfoCircleOutlined,
  DownOutlined,
  GithubOutlined,
  MailOutlined,
  WechatOutlined
} from '@ant-design/icons-vue'

const activeKey = ref(['1'])

// FAQæ•°æ®
const faqs = reactive([
  {
    id: 1,
    question: 'å¦‚ä½•æé«˜æœç´¢å‡†ç¡®æ€§ï¼Ÿ',
    answer: 'å¯ä»¥é€šè¿‡è°ƒæ•´ç›¸ä¼¼åº¦é˜ˆå€¼ã€é€‰æ‹©åˆé€‚çš„æœç´¢ç±»å‹ï¼ˆè¯­ä¹‰/å…¨æ–‡/æ··åˆï¼‰ã€ç¡®ä¿ç´¢å¼•æ–‡ä»¶å¤¹å†…å®¹å®Œæ•´ç­‰æ–¹å¼æé«˜æœç´¢å‡†ç¡®æ€§ã€‚',
    expanded: false
  },
  {
    id: 2,
    question: 'æ”¯æŒå“ªäº›æ–‡ä»¶æ ¼å¼ï¼Ÿ',
    answer: 'æ”¯æŒPDFã€Wordã€Excelã€PowerPointã€æ–‡æœ¬æ–‡ä»¶ã€Markdownã€å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ç­‰å¤šç§æ ¼å¼ã€‚å®Œæ•´çš„æ”¯æŒåˆ—è¡¨è¯·å‚è€ƒæ–‡æ¡£ã€‚',
    expanded: false
  },
  {
    id: 3,
    question: 'å¦‚ä½•å¤‡ä»½æ•°æ®ï¼Ÿ',
    answer: 'åº”ç”¨æ•°æ®ä¸»è¦å­˜å‚¨åœ¨æœ¬åœ°ï¼Œå¯ä»¥å®šæœŸå¤‡ä»½ç´¢å¼•æ–‡ä»¶å’Œé…ç½®æ–‡ä»¶ã€‚å¤‡ä»½è·¯å¾„é€šå¸¸åœ¨ç”¨æˆ·ç›®å½•ä¸‹çš„.xiaoyao-searchæ–‡ä»¶å¤¹ä¸­ã€‚',
    expanded: false
  },
  {
    id: 4,
    question: 'è¯­éŸ³è¯†åˆ«å‡†ç¡®ç‡å¦‚ä½•æå‡ï¼Ÿ',
    answer: 'å»ºè®®åœ¨å®‰é™ç¯å¢ƒä¸­å½•éŸ³ï¼Œè¯´è¯æ¸…æ™°ï¼Œä½¿ç”¨é«˜è´¨é‡çš„éº¦å…‹é£ã€‚ä¹Ÿå¯ä»¥å°è¯•ä¸åŒçš„è¯­éŸ³è¯†åˆ«æ¨¡å‹æ¥è·å¾—æœ€ä½³æ•ˆæœã€‚',
    expanded: false
  }
])

// åˆ‡æ¢FAQå±•å¼€çŠ¶æ€
const toggleFaq = (id: number) => {
  const faq = faqs.find(item => item.id === id)
  if (faq) {
    faq.expanded = !faq.expanded
  }
}
</script>

<style lang="scss" scoped>
.help-page {
  min-height: 100vh;
  padding: var(--space-6);
  background: var(--surface-primary);
}

.help-container {
  max-width: 1200px;
  margin: 0 auto;
}

.help-header {
  text-align: center;
  margin-bottom: var(--space-8);
}

.help-title {
  font-size: var(--text-4xl);
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: var(--space-3);
  font-family: var(--font-display);
}

.help-description {
  font-size: var(--text-lg);
  color: var(--text-secondary);
  max-width: 600px;
  margin: 0 auto;
  line-height: 1.6;
}

.help-content {
  margin-bottom: var(--space-8);
}

.help-section {
  background: var(--surface-secondary);
  border: 1px solid var(--border-light);
  border-radius: var(--radius-lg);
  padding: var(--space-6);
  margin-bottom: var(--space-6);
  backdrop-filter: blur(10px);

  @include glass-morphism;
}

.section-header {
  margin-bottom: var(--space-4);
}

.section-title {
  font-size: var(--text-2xl);
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: var(--space-2);
  display: flex;
  align-items: center;
  gap: var(--space-2);

  .anticon {
    color: var(--accent-cyan);
  }
}

.section-description {
  font-size: var(--text-base);
  color: var(--text-secondary);
  line-height: 1.5;
}

.section-content {
  color: var(--text-secondary);
}

// å¿«æ·é”®æ ·å¼
.shortcut-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.shortcut-item {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-2);
  border-radius: var(--radius-base);
  transition: background-color 0.3s var(--ease-out-cubic);

  &:hover {
    background: rgba(0, 229, 255, 0.05);
  }
}

.key {
  display: inline-block;
  padding: var(--space-1) var(--space-2);
  background: var(--surface-tertiary);
  border: 1px solid var(--border-medium);
  border-radius: var(--radius-sm);
  font-family: var(--font-mono);
  font-size: var(--text-xs);
  color: var(--text-primary);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.shortcut-desc {
  color: var(--text-secondary);
  font-size: var(--text-sm);
}

// FAQæ ·å¼
.faq-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.faq-item {
  border: 1px solid var(--border-light);
  border-radius: var(--radius-base);
  overflow: hidden;
  transition: all 0.3s var(--ease-out-cubic);
}

.faq-question {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-3) var(--space-4);
  background: var(--surface-tertiary);
  cursor: pointer;
  font-weight: 500;
  color: var(--text-primary);
  transition: all 0.3s var(--ease-out-cubic);

  &:hover {
    background: rgba(0, 229, 255, 0.1);
  }

  .anticon {
    transition: transform 0.3s var(--ease-out-cubic);

    &.expanded {
      transform: rotate(180deg);
    }
  }
}

.faq-answer {
  padding: var(--space-4);
  background: var(--surface-secondary);
  color: var(--text-secondary);
  line-height: 1.6;
}

// æŠ€æœ¯æ”¯æŒæ ·å¼
.support-options {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

.support-option {
  display: flex;
  align-items: flex-start;
  gap: var(--space-3);
  padding: var(--space-3);
  border-radius: var(--radius-base);
  transition: background-color 0.3s var(--ease-out-cubic);

  &:hover {
    background: rgba(0, 229, 255, 0.05);
  }
}

.support-icon {
  font-size: 20px;
  color: var(--accent-cyan);
  margin-top: 2px;
}

.support-info h4 {
  font-size: var(--text-base);
  color: var(--text-primary);
  margin-bottom: var(--space-1);
}

.support-info p {
  font-size: var(--text-sm);
  color: var(--text-secondary);
  margin-bottom: var(--space-1);
}

.support-info a,
.support-info span {
  font-size: var(--text-sm);
  color: var(--accent-cyan);
}

// æ•™ç¨‹å†…å®¹æ ·å¼
.tutorial-content {
  color: var(--text-secondary);
  line-height: 1.6;

  h4 {
    color: var(--text-primary);
    margin: var(--space-3) 0 var(--space-2);
    font-size: var(--text-base);
  }

  p {
    margin-bottom: var(--space-3);
  }

  ul {
    padding-left: var(--space-4);
    margin-bottom: var(--space-3);

    li {
      margin-bottom: var(--space-1);
    }
  }
}

// å…³äºéƒ¨åˆ†æ ·å¼
.about-section {
  background: var(--surface-secondary);
  border: 1px solid var(--border-light);
  border-radius: var(--radius-lg);
  padding: var(--space-6);
  backdrop-filter: blur(10px);

  @include glass-morphism;
}

.about-content {
  display: flex;
  gap: var(--space-8);
  align-items: flex-start;
}

.about-logo {
  flex-shrink: 0;
  text-align: center;
}

.logo-text {
  font-size: var(--text-4xl);
  font-weight: 900;
  font-family: var(--font-artistic);
  @include gradient-text;
  display: block;
  margin-bottom: var(--space-2);
}

.version-badge {
  display: inline-block;
  padding: var(--space-1) var(--space-2);
  background: rgba(0, 229, 255, 0.2);
  color: var(--accent-cyan);
  border: 1px solid rgba(0, 229, 255, 0.3);
  border-radius: var(--radius-full);
  font-size: var(--text-xs);
  font-weight: 600;
  font-family: var(--font-mono);
}

.about-info {
  flex: 1;
}

.about-description {
  font-size: var(--text-lg);
  line-height: 1.8;
  margin-bottom: var(--space-6);
  color: var(--text-secondary);
}

.about-details {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--space-4);
}

.detail-item {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.detail-label {
  font-size: var(--text-sm);
  color: var(--text-tertiary);
  font-weight: 500;
}

.detail-value {
  font-size: var(--text-base);
  color: var(--text-primary);
  font-weight: 500;
}

// å“åº”å¼è®¾è®¡
@media (max-width: 768px) {
  .help-page {
    padding: var(--space-4);
  }

  .help-section {
    padding: var(--space-4);
  }

  .about-content {
    flex-direction: column;
    gap: var(--space-4);
    align-items: center;
    text-align: center;
  }

  .about-details {
    grid-template-columns: 1fr;
  }

  .support-option {
    flex-direction: column;
    text-align: center;
  }
}

@media (max-width: 480px) {
  .logo-text {
    font-size: var(--text-3xl);
  }
}
</style>