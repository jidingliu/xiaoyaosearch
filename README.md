# å°é¥æœç´¢ XiaoyaoSearch

![å°é¥æœç´¢](docs/æ–‡æ¡£å›¾ç‰‡/å°é¥æœç´¢.png)

## ğŸ“– é¡¹ç›®ç®€ä»‹

![å°é¥æœç´¢](docs/æ–‡æ¡£å›¾ç‰‡/logo_256x256.png)

å°é¥æœç´¢æ˜¯ä¸€æ¬¾ä¸“ä¸ºçŸ¥è¯†å·¥ä½œè€…ã€å†…å®¹åˆ›ä½œè€…å’ŒæŠ€æœ¯å¼€å‘è€…è®¾è®¡çš„è·¨å¹³å°æœ¬åœ°æ¡Œé¢åº”ç”¨ï¼ˆWindows/MacOS/Linuxï¼‰ã€‚é€šè¿‡é›†æˆçš„AIæ¨¡å‹ï¼Œæ”¯æŒè¯­éŸ³è¾“å…¥ï¼ˆ30ç§’å†…ï¼‰ã€æ–‡æœ¬è¾“å…¥ã€å›¾ç‰‡è¾“å…¥ç­‰å¤šç§æ–¹å¼ï¼Œå°†ç”¨æˆ·çš„æŸ¥è¯¢è½¬æ¢ä¸ºè¯­ä¹‰è¿›è¡Œæ™ºèƒ½æœç´¢ï¼Œå®ç°å¯¹æœ¬åœ°æ–‡ä»¶çš„æ·±åº¦æ£€ç´¢ã€‚

## â­ï¸ é‡è¦è¯´æ˜
- æœ¬é¡¹ç›®ä¸ªäººä½¿ç”¨å®Œå…¨å…è´¹ï¼Œä½†ä¸å¾—ä¿®æ”¹åäºŒæ¬¡åˆ†å‘ï¼›å•†ä¸šç›®çš„éœ€æˆæƒï¼Œè¯¦ç»†è§[å°é¥æœç´¢è½¯ä»¶æˆæƒåè®®](LICENSE)
- æœ¬é¡¹ç›®å®Œå…¨é€šè¿‡Vibe Codingå®ç°ï¼Œæä¾›æ‰€æœ‰æºç åŠå¼€å‘æ–‡æ¡£ï¼ˆä¸Šä¸‹æ–‡ï¼‰ä¾›å¤§å®¶äº¤æµå­¦ä¹ 
  ![å¼€å‘æ–‡æ¡£](docs/æ–‡æ¡£å›¾ç‰‡/å¼€å‘æ–‡æ¡£.png)

## ä½œè€…ä»‹ç»
- dtsolaã€ITè§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆ | ä¸€äººå…¬å¸å®è·µè€…ã€‘
- ç½‘ç«™ï¼šhttps://www.dtsola.com
- Bç«™ï¼šhttps://space.bilibili.com/736015
- å¾®ä¿¡ï¼šdtsolaï¼ˆå¦‚éœ€è”ç³»ï¼Œè¯·å¤‡æ³¨ä½ çš„æ¥æ„ï¼‰
![dtsola](docs/æ–‡æ¡£å›¾ç‰‡/ä¸ªäººäºŒç»´ç .png)

### âœ¨ æ ¸å¿ƒç‰¹æ€§

- **ğŸ¤ å¤šæ¨¡æ€è¾“å…¥**ï¼šæ”¯æŒè¯­éŸ³å½•éŸ³ã€æ–‡æœ¬è¾“å…¥ã€å›¾ç‰‡ä¸Šä¼ 
- **ğŸ” æ·±åº¦æ£€ç´¢**ï¼šæ”¯æŒè§†é¢‘ï¼ˆmp4ã€aviï¼‰ã€éŸ³é¢‘ï¼ˆmp3ã€wavï¼‰ã€æ–‡æ¡£ï¼ˆtxtã€markdownã€officeã€pdfï¼‰çš„å†…å®¹å’Œæ–‡ä»¶åæœç´¢
- **ğŸ§  AIå¢å¼º**ï¼šé›†æˆBGE-M3ã€FasterWhisperã€CN-CLIPã€OLLAMAç­‰å…ˆè¿›AIæ¨¡å‹
- **âš¡ é«˜æ€§èƒ½**ï¼šåŸºäºFaisså‘é‡æœç´¢å’ŒWhooshå…¨æ–‡æœç´¢çš„æ··åˆæ£€ç´¢æ¶æ„
- **ğŸ”’ éšç§å®‰å…¨**ï¼šæœ¬åœ°è¿è¡Œï¼Œæ•°æ®ä¸ä¸Šä¼ äº‘ç«¯ï¼Œæ”¯æŒéšç§æ¨¡å¼
- **ğŸ¨ ç°ä»£ç•Œé¢**ï¼šåŸºäºElectron + Vue 3 + TypeScriptçš„ç°ä»£åŒ–æ¡Œé¢åº”ç”¨

## ğŸ“– æ ¸å¿ƒç•Œé¢

### æœç´¢ç•Œé¢

#### ä¸»ç•Œé¢
![æœç´¢ç•Œé¢](docs/æ–‡æ¡£å›¾ç‰‡/æœç´¢ç•Œé¢-ä¸»ç•Œé¢.png)

#### é€šè¿‡æ–‡æœ¬æœç´¢
![é€šè¿‡æ–‡æœ¬æœç´¢](docs/æ–‡æ¡£å›¾ç‰‡/æœç´¢ç•Œé¢-æ–‡æœ¬æœç´¢.png)

#### é€šè¿‡è¯­éŸ³æœç´¢
![é€šè¿‡è¯­éŸ³æœç´¢](docs/æ–‡æ¡£å›¾ç‰‡/æœç´¢ç•Œé¢-è¯­éŸ³æœç´¢.png)

#### é€šè¿‡å›¾ç‰‡æœç´¢
![é€šè¿‡å›¾ç‰‡æœç´¢](docs/æ–‡æ¡£å›¾ç‰‡/æœç´¢ç•Œé¢-å›¾ç‰‡æœç´¢.png)

### ç´¢å¼•ç®¡ç†ç•Œé¢
![ç´¢å¼•ç®¡ç†ç•Œé¢](docs/æ–‡æ¡£å›¾ç‰‡/ç´¢å¼•ç®¡ç†ç•Œé¢.png)

### è®¾ç½®ç•Œé¢
![è®¾ç½®ç•Œé¢](docs/æ–‡æ¡£å›¾ç‰‡/è®¾ç½®ç•Œé¢.png)

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### ç³»ç»Ÿæ¶æ„å›¾

![ç³»ç»Ÿæ¶æ„](docs/æ–‡æ¡£å›¾ç‰‡/ç³»ç»Ÿæ¶æ„.png)

### æŠ€æœ¯æ ˆ

**å‰ç«¯æŠ€æœ¯**
- **æ¡†æ¶**: Electron + Vue 3 + TypeScript
- **UIåº“**: Ant Design Vue
- **çŠ¶æ€ç®¡ç†**: Pinia
- **æ„å»ºå·¥å…·**: Vite

**åç«¯æŠ€æœ¯**
- **æ¡†æ¶**: Python 3.10 + FastAPI + Uvicorn
- **AIæ¨¡å‹**: BGE-M3 + FasterWhisper + CN-CLIP + Ollama
- **æœç´¢å¼•æ“**: Faiss (å‘é‡æœç´¢) + Whoosh (å…¨æ–‡æœç´¢)
- **æ•°æ®åº“**: SQLite + ç´¢å¼•æ–‡ä»¶

### é¡¹ç›®ç»“æ„

```
xiaoyaosearch/
â”œâ”€â”€ backend/                        # åç«¯æœåŠ¡ (Python FastAPI)
â”‚   â”œâ”€â”€ app/                       # åº”ç”¨æ ¸å¿ƒä»£ç 
â”‚   â”‚   â”œâ”€â”€ api/                   # APIè·¯ç”±å±‚
â”‚   â”‚   â”œâ”€â”€ core/                  # æ ¸å¿ƒé…ç½®
â”‚   â”‚   â”œâ”€â”€ models/                # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ services/              # ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ schemas/               # æ•°æ®æ¨¡å¼
â”‚   â”‚   â””â”€â”€ utils/                 # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ requirements.txt           # Pythonä¾èµ–
â”‚   â”œâ”€â”€ main.py                   # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ .env                      # ç¯å¢ƒå˜é‡
â”œâ”€â”€ frontend/                      # å‰ç«¯åº”ç”¨ (Electron + Vue3)
â”‚   â”œâ”€â”€ src/                      # æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ main/                 # Electronä¸»è¿›ç¨‹
â”‚   â”‚   â”œâ”€â”€ preload/              # é¢„åŠ è½½è„šæœ¬
â”‚   â”‚   â””â”€â”€ renderer/             # Vueæ¸²æŸ“è¿›ç¨‹
â”‚   â”œâ”€â”€ out/                      # æ„å»ºè¾“å‡º
â”‚   â”œâ”€â”€ dist-electron/            # æ‰“åŒ…è¾“å‡º
â”‚   â”œâ”€â”€ resources/                # åº”ç”¨èµ„æº
â”‚   â”œâ”€â”€ package.json              # Node.jsä¾èµ–
â”‚   â””â”€â”€ electron-builder.yml      # æ‰“åŒ…é…ç½®
â”œâ”€â”€ docs/                          # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ 00-mrd.md                  # å¸‚åœºè°ƒç ”
â”‚   â”œâ”€â”€ 01-prd.md                  # äº§å“éœ€æ±‚
â”‚   â”œâ”€â”€ 02-åŸå‹.md                 # äº§å“åŸå‹
â”‚   â”œâ”€â”€ 03-æŠ€æœ¯æ–¹æ¡ˆ.md             # æŠ€æœ¯æ–¹æ¡ˆ
â”‚   â”œâ”€â”€ 04-å¼€å‘ä»»åŠ¡æ¸…å•.md         # å¼€å‘ä»»åŠ¡
â”‚   â”œâ”€â”€ 05-å¼€å‘æ’æœŸè¡¨.md           # å¼€å‘æ’æœŸ
â”‚   â”œâ”€â”€ å¼€å‘è¿›åº¦.md                # è¿›åº¦è·Ÿè¸ª
â”‚   â”œâ”€â”€ æ¥å£æ–‡æ¡£.md                # APIæ–‡æ¡£
â”‚   â”œâ”€â”€ æ•°æ®åº“è®¾è®¡æ–‡æ¡£.md          # æ•°æ®åº“è®¾è®¡
â”‚   â””â”€â”€ é«˜ä¿çœŸåŸå‹/                # UIåŸå‹
â”œâ”€â”€ data/                          # æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ database/                  # SQLiteæ•°æ®åº“
â”‚   â”œâ”€â”€ indexes/                   # æœç´¢ç´¢å¼•
â”‚   â”‚   â”œâ”€â”€ faiss/                 # å‘é‡ç´¢å¼•
â”‚   â”‚   â””â”€â”€ whoosh/                # å…¨æ–‡ç´¢å¼•
â”‚   â”œâ”€â”€ models/                   # æ¨¡å‹æ–‡ä»¶
â”‚   â””â”€â”€ logs/                   # æ—¥å¿—æ–‡ä»¶
â”œâ”€â”€ .claude/                       # ClaudeåŠ©æ‰‹é…ç½®
â”œâ”€â”€ LICENSE                        # è½¯ä»¶æˆæƒåè®®
â””â”€â”€ README.md                      # é¡¹ç›®è¯´æ˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: Windows/MAC OS/Linux
- **Python**: 3.10.11+
- **Node.js**: 21.x+
- **å†…å­˜**: å»ºè®®8GBä»¥ä¸Š

### å®‰è£…æ­¥éª¤

#### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/dtsola/xiaoyaosearch.git
cd xiaoyaosearch
```

#### 2. åç«¯éƒ¨ç½²

```shell
# è¿›å…¥åç«¯ç›®å½•
cd backend

# å®‰è£…ä¾èµ–åŒ…ï¼ˆé»˜è®¤CPUç‰ˆæœ¬çš„æ¨ç†å¼•æ“ï¼‰
pip install -r requirements.txt

# å®‰è£…faster-whisper
pip install faster-whisper

# å¯ç”¨CUDAï¼ˆå¯é€‰ï¼Œæ³¨æ„ï¼šcudaç‰ˆæœ¬éœ€æ ¹æ®ç¯å¢ƒç¡®å®šï¼‰
pip uninstall torch torchaudio torchvision
pip install torch==2.1.0+cu121 torchaudio==2.1.0+cu121 torchvision==0.16.0+cu121 --index-url https://download.pytorch.org/whl/cu121

```

**å®‰è£…ffmpeg**:
https://ffmpeg.org/download.html

**å®‰è£…ollama**:
https://ollama.com/

**é…ç½® `.env` æ–‡ä»¶**:
```env

# æ•°æ®é…ç½®
FAISS_INDEX_PATH=../data/indexes/faiss
WHOOSH_INDEX_PATH=../data/indexes/whoosh
DATABASE_PATH=../data/database/xiaoyao_search.db

# APIé…ç½®
API_HOST=127.0.0.1
API_PORT=8000
API_RELOAD=true

# æ—¥å¿—é…ç½®
LOG_LEVEL=info
LOG_FILE=../data/logs/app.log
```

**å‡†å¤‡æ¨¡å‹**:
ç³»ç»Ÿé»˜è®¤æ¨¡å‹è¯´æ˜ï¼š
- ollamaï¼šqwen2.5:1.5b
- åµŒå…¥æ¨¡å‹ï¼šBAAI/bge-m3
- è¯­éŸ³è¯†åˆ«æ¨¡å‹ï¼šSystran/faster-whisper-base
- è§†è§‰æ¨¡å‹ï¼šOFA-Sys/chinese-clip-vit-base-patch16

æ³¨æ„ï¼šå»ºè®®å…ˆå‡†å¤‡é»˜è®¤æ¨¡å‹ï¼Œå…ˆæˆåŠŸå¯åŠ¨åº”ç”¨åï¼Œå†æ›´æ¢æ¨¡å‹ã€‚

ollamaæ¨¡å‹ï¼š
ollama pull qwen2.5:1.5b ï¼ˆæ ¹æ®æƒ…å†µè‡ªè¡Œé€‰æ‹©ï¼‰

æ‰€æœ‰æ¨¡å‹ä¸‹è½½åœ°å€ï¼šï¼ˆç™¾åº¦ç›˜ï¼‰
é“¾æ¥: https://pan.baidu.com/s/1jRcTztvjf8aiExUh6oayVg?pwd=ycr5 æå–ç : ycr5 

åµŒå…¥æ¨¡å‹ï¼š
- æ¨¡å‹æ ¹ç›®å½•ï¼šdata/models/embedding
- å°†ä¸‹è½½çš„æ¨¡å‹ç›´æ¥è§£å‹æ”¾å…¥åˆ°æ ¹ç›®å½•å³å¯ï¼Œä»¥ä¸‹æ˜¯å¯¹åº”å…³ç³»
  - data/models/embedding/BAAI/bge-m3
  - data/models/embedding/BAAI/bge-small-zh
  - data/models/embedding/BAAI/bge-large-zh

è¯­éŸ³è¯†åˆ«æ¨¡å‹ï¼š
- æ¨¡å‹æ ¹ç›®å½•ï¼šdata/models/faster-whisper
- å°†ä¸‹è½½çš„æ¨¡å‹ç›´æ¥è§£å‹æ”¾å…¥åˆ°æ ¹ç›®å½•å³å¯ï¼Œä»¥ä¸‹æ˜¯å¯¹åº”å…³ç³»
  - data/models/faster-whisper/Systran/faster-whisper-base
  - data/models/faster-whisper/Systran/faster-whisper-small
  - data/models/faster-whisper/Systran/faster-whisper-medium
  - data/models/faster-whisper/Systran/faster-whisper-large-v3

è§†è§‰æ¨¡å‹ï¼š
- æ¨¡å‹æ ¹ç›®å½•ï¼šdata/models/cn-clip
- å°†ä¸‹è½½çš„æ¨¡å‹ç›´æ¥è§£å‹æ”¾å…¥åˆ°æ ¹ç›®å½•å³å¯ï¼Œä»¥ä¸‹æ˜¯å¯¹åº”å…³ç³»
  - data/models/cn-clip/OFA-Sys/chinese-clip-vit-base-patch16
  - data/models/cn-clip/OFA-Sys/chinese-clip-vit-large-patch14



**å¯åŠ¨åç«¯æœåŠ¡**:
```shell
# ä½¿ç”¨å†…ç½®é…ç½®å¯åŠ¨
python main.py

# æˆ–ä½¿ç”¨uvicornå¯åŠ¨
uvicorn main:app --host 127.0.0.1 --port 8000 --reload
```

#### 3. å‰ç«¯éƒ¨ç½²

```shell
# è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

## äº§å“è·¯çº¿å›¾
![äº§å“è·¯çº¿å›¾](ROADMAP.md)
