# å°é¥æœç´¢ XiaoyaoSearch

> ğŸš€ **å¤šæ¨¡æ€AIæ™ºèƒ½æœç´¢æ¡Œé¢åº”ç”¨** - æ”¯æŒè¯­éŸ³ã€æ–‡æœ¬ã€å›¾åƒè¾“å…¥çš„æœ¬åœ°æ–‡ä»¶æ™ºèƒ½æ£€ç´¢å·¥å…·

[![Python](https://img.shields.io/badge/Python-3.10+-blue.svg)](https://python.org)
[![Vue.js](https://img.shields.io/badge/Vue.js-3.0+-green.svg)](https://vuejs.org)
[![Electron](https://img.shields.io/badge/Electron-Latest-9FEAF9.svg)](https://electronjs.org)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

## ğŸ“– é¡¹ç›®ç®€ä»‹

å°é¥æœç´¢æ˜¯ä¸€æ¬¾ä¸“ä¸ºçŸ¥è¯†å·¥ä½œè€…ã€å†…å®¹åˆ›ä½œè€…å’ŒæŠ€æœ¯å¼€å‘è€…è®¾è®¡çš„æœ¬åœ°æ¡Œé¢åº”ç”¨ã€‚é€šè¿‡é›†æˆçš„AIæ¨¡å‹ï¼Œæ”¯æŒè¯­éŸ³è¾“å…¥ï¼ˆ30ç§’å†…ï¼‰ã€æ–‡æœ¬è¾“å…¥ã€å›¾ç‰‡è¾“å…¥ç­‰å¤šç§æ–¹å¼ï¼Œå°†ç”¨æˆ·çš„æŸ¥è¯¢è½¬æ¢ä¸ºè¯­ä¹‰è¿›è¡Œæ™ºèƒ½æœç´¢ï¼Œå®ç°å¯¹æœ¬åœ°æ–‡ä»¶çš„æ·±åº¦æ£€ç´¢ã€‚

### âœ¨ æ ¸å¿ƒç‰¹æ€§

- **ğŸ¤ å¤šæ¨¡æ€è¾“å…¥**ï¼šæ”¯æŒè¯­éŸ³å½•éŸ³ã€æ–‡æœ¬è¾“å…¥ã€å›¾ç‰‡ä¸Šä¼ 
- **ğŸ” æ·±åº¦æ£€ç´¢**ï¼šæ”¯æŒè§†é¢‘ï¼ˆmp4ã€aviï¼‰ã€éŸ³é¢‘ï¼ˆmp3ã€wavï¼‰ã€æ–‡æ¡£ï¼ˆtxtã€markdownã€officeã€pdfï¼‰çš„å†…å®¹å’Œæ–‡ä»¶åæœç´¢
- **ğŸ§  AIå¢å¼º**ï¼šé›†æˆBGE-M3ã€FasterWhisperã€CN-CLIPç­‰å…ˆè¿›AIæ¨¡å‹
- **âš¡ é«˜æ€§èƒ½**ï¼šåŸºäºFaisså‘é‡æœç´¢å’ŒWhooshå…¨æ–‡æœç´¢çš„æ··åˆæ£€ç´¢æ¶æ„
- **ğŸ”’ éšç§å®‰å…¨**ï¼šæœ¬åœ°è¿è¡Œï¼Œæ•°æ®ä¸ä¸Šä¼ äº‘ç«¯ï¼Œæ”¯æŒéšç§æ¨¡å¼
- **ğŸ¨ ç°ä»£ç•Œé¢**ï¼šåŸºäºElectron + Vue 3 + TypeScriptçš„ç°ä»£åŒ–æ¡Œé¢åº”ç”¨

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Electron æ¡Œé¢åº”ç”¨                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     Vue 3 å‰ç«¯æ¡†æ¶                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ æœç´¢ç»„ä»¶     â”‚  â”‚ ç´¢å¼•ç»„ä»¶     â”‚  â”‚ é…ç½®ç»„ä»¶          â”‚        â”‚
â”‚  â”‚ - å¤šæ¨¡æ€è¾“å…¥  â”‚  â”‚ - ç´¢å¼•ç®¡ç†   â”‚  â”‚ - AIæ¨¡å‹é…ç½®      â”‚        â”‚
â”‚  â”‚ - ç»“æœå±•ç¤º   â”‚  â”‚ - ç´¢å¼•çŠ¶æ€   â”‚  â”‚ - åº”ç”¨è®¾ç½®        â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   HTTP API é€šä¿¡å±‚                              â”‚
â”‚                 (Axios + FastAPI)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                           åç«¯æœåŠ¡                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ æœç´¢API      â”‚  â”‚ ç´¢å¼•API      â”‚  â”‚ é…ç½®API            â”‚        â”‚
â”‚  â”‚ /api/search  â”‚  â”‚ /api/index   â”‚  â”‚ /api/config        â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   æ ¸å¿ƒæœåŠ¡å±‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ æœç´¢æœåŠ¡     â”‚  â”‚ ç´¢å¼•æœåŠ¡     â”‚  â”‚ AIæ¨¡å‹æœåŠ¡         â”‚        â”‚
â”‚  â”‚ - å‘é‡æœç´¢   â”‚  â”‚ - æ–‡ä»¶æ‰«æ   â”‚  â”‚ - æ–‡æœ¬åµŒå…¥         â”‚        â”‚
â”‚  â”‚ - å…¨æ–‡æœç´¢   â”‚  â”‚ - ç´¢å¼•æ„å»º   â”‚  â”‚ - è¯­éŸ³è¯†åˆ«         â”‚        â”‚
â”‚  â”‚ - æ··åˆæœç´¢   â”‚  â”‚ - ç´¢å¼•ç®¡ç†   â”‚  â”‚ - å›¾åƒç†è§£         â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   å­˜å‚¨å¼•æ“                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ Faiss        â”‚  â”‚ Whoosh      â”‚  â”‚ SQLite            â”‚        â”‚
â”‚  â”‚ å‘é‡ç´¢å¼•      â”‚  â”‚ å…¨æ–‡ç´¢å¼•     â”‚  â”‚ é…ç½®/å…ƒæ•°æ®        â”‚        â”‚
â”‚  â”‚ é«˜æ•ˆæ£€ç´¢      â”‚  â”‚ æ¨¡ç³Šæœç´¢     â”‚  â”‚ æœç´¢å†å²          â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆ

**å‰ç«¯æŠ€æœ¯**
- **æ¡†æ¶**: Electron + Vue 3 + TypeScript
- **UIåº“**: Ant Design Vue
- **çŠ¶æ€ç®¡ç†**: Pinia
- **æ„å»ºå·¥å…·**: Vite

**åç«¯æŠ€æœ¯**
- **æ¡†æ¶**: Python 3.10 + FastAPI + Uvicorn
- **AIæ¨¡å‹**: BGE-M3 + FasterWhisper + CN-CLIP + Ollama
- **æœç´¢å¼•æ“**: Faiss (å‘é‡æœç´¢) + Whoosh (å…¨æ–‡æœç´¢)
- **æ•°æ®åº“**: SQLite + ç´¢å¼•æ–‡ä»¶

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: Windows 11
- **Python**: 3.10.11+
- **Node.js**: 21.x+
- **å†…å­˜**: å»ºè®®8GBä»¥ä¸Š

### å®‰è£…æ­¥éª¤

#### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/your-username/xiaoyaosearch.git
cd xiaoyaosearch
```

#### 2. åç«¯éƒ¨ç½²

```shell
# è¿›å…¥åç«¯ç›®å½•
cd backend

# å®‰è£…ä¾èµ–åŒ…
pip install -r requirements.txt
```

**é…ç½® `.env` æ–‡ä»¶**:
```env

# æ•°æ®é…ç½®
FAISS_INDEX_PATH=../data/indexes/faiss
WHOOSH_INDEX_PATH=../data/indexes/whoosh
DATABASE_PATH=../data/database/xiaoyao_search.db

# APIé…ç½®
API_HOST=127.0.0.1
API_PORT=8000
API_RELOAD=true

# æ—¥å¿—é…ç½®
LOG_LEVEL=info
LOG_FILE=../data/logs/app.log
```

**å¯åŠ¨åç«¯æœåŠ¡**:
```shell
# ä½¿ç”¨å†…ç½®é…ç½®å¯åŠ¨
python main.py

# æˆ–ä½¿ç”¨uvicornå¯åŠ¨
uvicorn main:app --host 127.0.0.1 --port 8000 --reload
```

#### 3. å‰ç«¯éƒ¨ç½²

```shell
# è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

#### 4. éªŒè¯å®‰è£…

- **åç«¯API**: http://127.0.0.1:8000
- **APIæ–‡æ¡£**: http://127.0.0.1:8000/docs
- **å‰ç«¯åº”ç”¨**: http://localhost:3000
- **å¥åº·æ£€æŸ¥**: http://127.0.0.1:8000/api/system/health

## ğŸ“– ä½¿ç”¨æŒ‡å—

### åŸºæœ¬ä½¿ç”¨

1. **å¯åŠ¨åº”ç”¨**: åŒå‡»æ¡Œé¢å›¾æ ‡æˆ–è¿è¡Œå¯åŠ¨è„šæœ¬
2. **é€‰æ‹©æœç´¢æ¨¡å¼**: ç‚¹å‡»è¯­éŸ³ã€æ–‡æœ¬æˆ–å›¾åƒè¾“å…¥æŒ‰é’®
3. **è¾“å…¥æŸ¥è¯¢**: å½•éŸ³30ç§’å†…ã€è¾“å…¥æ–‡æœ¬å…³é”®è¯æˆ–ä¸Šä¼ å›¾ç‰‡
4. **æŸ¥çœ‹ç»“æœ**: æµè§ˆæœç´¢ç»“æœï¼Œæ”¯æŒé¢„è§ˆå’Œæ–‡ä»¶å®šä½
5. **é«˜çº§è®¾ç½®**: é…ç½®AIæ¨¡å‹ã€ç´¢å¼•è·¯å¾„å’Œæœç´¢åå¥½

### åŠŸèƒ½ç‰¹æ€§

#### ğŸ” æ™ºèƒ½æœç´¢
- **è¯­ä¹‰æœç´¢**: åŸºäºBGE-M3æ¨¡å‹çš„ä¸­æ–‡è¯­ä¹‰ç†è§£
- **è¯­éŸ³è¯†åˆ«**: é›†æˆFasterWhisperçš„ä¸­æ–‡è¯­éŸ³è½¬æ–‡å­—
- **å›¾åƒç†è§£**: ä½¿ç”¨CN-CLIPæ¨¡å‹è¿›è¡Œå›¾æ–‡åŒ¹é…
- **æ··åˆæ£€ç´¢**: å‘é‡æœç´¢ + å…¨æ–‡æœç´¢çš„åŒé‡ä¿éšœ

#### ğŸ“ æ–‡ä»¶æ”¯æŒ
- **è§†é¢‘**: mp4, avi, mkv, mov - æ”¯æŒå­—å¹•å’Œå…ƒæ•°æ®æœç´¢
- **éŸ³é¢‘**: mp3, wav, flac - æ”¯æŒè¯­éŸ³è½¬æ–‡å­—æœç´¢
- **æ–‡æ¡£**: txt, markdown, pdf, docx, xlsx, pptx
- **å›¾ç‰‡**: png, jpg, jpeg, gif, bmp, webp

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
xiaoyaosearch/
â”œâ”€â”€ backend/                 # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ app/                # åº”ç”¨æ ¸å¿ƒä»£ç 
â”‚   â”‚   â”œâ”€â”€ api/            # APIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ core/           # æ ¸å¿ƒé…ç½®
â”‚   â”‚   â”œâ”€â”€ models/         # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ services/       # ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â””â”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ requirements.txt    # Pythonä¾èµ–
â”‚   â””â”€â”€ main.py            # åº”ç”¨å…¥å£
â”œâ”€â”€ frontend/               # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/               # æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ components/    # Vueç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ views/         # é¡µé¢è§†å›¾
â”‚   â”‚   â”œâ”€â”€ stores/        # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ utils/         # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ package.json       # Node.jsä¾èµ–
â”‚   â””â”€â”€ electron/          # Electroné…ç½®
â”œâ”€â”€ docs/                  # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ data/                  # æ•°æ®ç›®å½•
â””â”€â”€ README.md             # é¡¹ç›®è¯´æ˜
```

### å¼€å‘è§„èŒƒ

- **ä»£ç è§„èŒƒ**: éµå¾ªPrettier + ESLint (å‰ç«¯), Black + isort (åç«¯)
- **æäº¤è§„èŒƒ**: ä½¿ç”¨Conventional Commitsæ ¼å¼
- **æµ‹è¯•è¦æ±‚**: æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•è¦†ç›–ç‡ > 80%
- **æ–‡æ¡£è¦æ±‚**: æ‰€æœ‰APIå’Œç»„ä»¶å¿…é¡»æœ‰ä¸­æ–‡æ³¨é‡Š

### æ„å»ºéƒ¨ç½²

```bash
# æ„å»ºå‰ç«¯åº”ç”¨
npm run build

# æ‰“åŒ…windowsåº”ç”¨
npm run build:win

# æ‰“åŒ…macåº”ç”¨
npm run build:mac
```

